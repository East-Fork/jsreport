{"version":3,"file":"main.js","mappings":"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","sources":["webpack://@jsreport/jsreport-import-export/external var \"Studio\"","webpack://@jsreport/jsreport-import-export/external var \"Studio.libraries['react']\"","webpack://@jsreport/jsreport-import-export/./studio/ExportModal.js","webpack://@jsreport/jsreport-import-export/external var \"Studio.libraries['filesaver.js-npm']\"","webpack://@jsreport/jsreport-import-export/./studio/ImportModal.js","webpack://@jsreport/jsreport-import-export/external var \"Studio.runtime['helpers/extends']\"","webpack://@jsreport/jsreport-import-export/webpack/bootstrap","webpack://@jsreport/jsreport-import-export/webpack/runtime/compat get default export","webpack://@jsreport/jsreport-import-export/webpack/runtime/define property getters","webpack://@jsreport/jsreport-import-export/webpack/runtime/hasOwnProperty shorthand","webpack://@jsreport/jsreport-import-export/webpack/runtime/make namespace object","webpack://@jsreport/jsreport-import-export/./studio/main_dev.js"],"sourcesContent":["module.exports = Studio;","module.exports = Studio.libraries['react'];","import React, { Component } from 'react'\nimport Studio, { EntityTree } from 'jsreport-studio'\nimport fileSaver from 'filesaver.js-npm'\n\nexport default class ExportModal extends Component {\n  constructor (props) {\n    super(props)\n\n    const { options } = props\n\n    const selections = {}\n\n    const references = this.getExportableReferences(Studio.getReferences())\n\n    Object.keys(references).forEach((k) => {\n      Object.keys(references[k]).forEach((e) => {\n        if (options.initialSelected != null) {\n          const selected = Array.isArray(options.initialSelected) ? options.initialSelected : [options.initialSelected]\n\n          selected.forEach((s) => {\n            if (references[k][e]._id === s) {\n              selections[references[k][e]._id] = true\n            } else if (selections[references[k][e]._id] == null) {\n              selections[references[k][e]._id] = false\n            }\n          })\n        } else {\n          selections[references[k][e]._id] = true\n        }\n      })\n    })\n\n    this.state = {}\n    this.state.processing = false\n    this.state.selected = selections\n\n    this.handleSelectionChange = this.handleSelectionChange.bind(this)\n  }\n\n  getExportableReferences (references) {\n    const exportableEntitySets = Studio.extensions['import-export'].options.exportableEntitySets\n\n    return Object.keys(references).reduce((acu, entitySetName) => {\n      if (exportableEntitySets.indexOf(entitySetName) !== -1) {\n        acu[entitySetName] = references[entitySetName]\n      }\n\n      return acu\n    }, {})\n  }\n\n  async download () {\n    if (this.state.processing) {\n      return\n    }\n\n    this.setState({\n      processing: true\n    })\n\n    try {\n      const response = await Studio.api.post('api/export', {\n        data: {\n          selection: Object.keys(this.state.selected).filter((k) => this.state.selected[k] === true)\n        },\n        responseType: 'blob'\n      }, true)\n\n      fileSaver.saveAs(response, 'export.jsrexport')\n\n      this.setState({\n        processing: false\n      })\n    } catch (e) {\n      this.setState({\n        processing: false\n      })\n\n      alert('Unable to prepare export ' + e.message + ' ' + e.stack)\n    }\n  }\n\n  handleSelectionChange (selected) {\n    this.setState({\n      selected\n    })\n  }\n\n  render () {\n    const references = this.getExportableReferences(Studio.getReferences())\n    const { selected, processing } = this.state\n\n    return (\n      <div className='form-group'>\n        <div>\n          <h1><i className='fa fa-download' /> Export objects</h1>\n        </div>\n        <div style={{ height: '30rem', overflow: 'auto' }}>\n          <EntityTree\n            entities={references}\n            selectable\n            selected={selected}\n            onSelectionChanged={this.handleSelectionChange}\n          />\n        </div>\n        <div className='button-bar'>\n          <a className={`button confirmation ${processing ? 'disabled' : ''}`} onClick={() => this.download()}>\n            <i className='fa fa-circle-o-notch fa-spin' style={{ display: processing ? 'inline-block' : 'none' }} />\n            <span style={{ display: processing ? 'none' : 'inline' }}>Download</span>\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n","module.exports = Studio.libraries['filesaver.js-npm'];","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\n\nconst EntityRefSelect = Studio.EntityRefSelect\nconst FileInput = Studio.FileInput\nconst sharedComponents = Studio.sharedComponents\n\nclass ImportFinishedModal extends Component {\n  componentDidMount () {\n    setTimeout(() => this.confirmBtn.focus(), 0)\n  }\n\n  componentWillUnmount () {\n    Studio.reset().catch(() => {})\n  }\n\n  confirm () {\n    this.props.close()\n\n    Studio.reset().catch((e) => { console.error(e) })\n  }\n\n  render () {\n    const { log } = this.props.options\n\n    return (\n      <div>\n        <h1><i className='fa fa-info-circle' /> Import finished</h1>\n        {log != null && log !== '' && (\n          <div className='form-group'>\n            <div>\n              <i>Some errors/warnings happened during the import:</i>\n            </div>\n            <textarea style={{ width: '100%', boxSizing: 'border-box' }} rows='10' readOnly value={log} />\n          </div>\n        )}\n        <div className='form-group'>\n          <i>Now we need to reload the studio..</i>\n        </div>\n        <div className='button-bar'>\n          <button ref={(el) => { this.confirmBtn = el }} className='button confirmation' onClick={() => this.confirm()}>\n            Ok\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass ImportModal extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      selectedFolderShortid: props.options != null && props.options.selectedFolderShortid ? props.options.selectedFolderShortid : null,\n      fullImport: false,\n      retryWithContinueOnFail: false,\n      validated: false\n    }\n\n    if (props.options && props.options.selectedFile) {\n      this.state.selectedFile = props.options.selectedFile\n    }\n\n    this.handleImportModeChange = this.handleImportModeChange.bind(this)\n  }\n\n  handleImportModeChange (ev) {\n    if (this.state.processing === true || this.state.validated) {\n      return\n    }\n\n    let fullImport = false\n\n    if (ev.target.value === 'full') {\n      fullImport = true\n    }\n\n    this.setState({\n      fullImport\n    })\n  }\n\n  async validate (file) {\n    if (!file || this.state.processing) {\n      return\n    }\n\n    this.setState({\n      status: '1',\n      processing: true,\n      log: 'Validating import....'\n    })\n\n    try {\n      const params = {\n        fullImport: this.state.fullImport\n      }\n\n      if (this.state.selectedFolderShortid != null) {\n        params.targetFolder = this.state.selectedFolderShortid\n      }\n\n      const result = await Studio.api.post('api/validate-import', {\n        params,\n        attach: { filename: 'import.jsrexport', file }\n      }, true)\n\n      this.setState({\n        validated: true,\n        status: result.status,\n        processing: false,\n        log: result.log\n      })\n    } catch (e) {\n      this.setState({\n        validated: true,\n        status: '1',\n        processing: false,\n        log: e.message + ' ' + e.stack\n      })\n    }\n  }\n\n  async import () {\n    if (this.state.processing) {\n      return\n    }\n\n    const { retryWithContinueOnFail } = this.state\n\n    try {\n      this.setState({\n        status: '1',\n        processing: true,\n        log: 'Working on import....'\n      })\n\n      const params = {\n        fullImport: this.state.fullImport,\n        continueOnFail: retryWithContinueOnFail\n      }\n\n      if (this.state.selectedFolderShortid != null) {\n        params.targetFolder = this.state.selectedFolderShortid\n      }\n\n      const result = await Studio.api.post('api/import', {\n        params,\n        attach: { filename: 'import.jsrexport', file: this.state.selectedFile }\n      }, true)\n\n      this.setState({\n        processing: false,\n        retryWithContinueOnFail: false\n      })\n\n      Studio.openModal(ImportFinishedModal, {\n        log: result.log\n      })\n    } catch (e) {\n      const stateToUpdate = {\n        status: '1',\n        processing: false,\n        log: e.message + ' ' + e.stack\n      }\n\n      if (!retryWithContinueOnFail && e.canContinueAfterFail) {\n        stateToUpdate.retryWithContinueOnFail = true\n      } else {\n        stateToUpdate.retryWithContinueOnFail = false\n      }\n\n      this.setState(stateToUpdate)\n    }\n  }\n\n  cancel () {\n    if (this.state.processing) {\n      return\n    }\n\n    this.setState({\n      status: null,\n      log: null,\n      retryWithContinueOnFail: false,\n      validated: false\n    })\n  }\n\n  render () {\n    return (\n      <div>\n        <h1><i className='fa fa-upload' /> Import objects</h1>\n        <div className='form-group'>\n          <p>\n            A <b>validation is run first</b>, so you can safely upload the exported package and review the changes which will be performed. Afterwards <b>you can confirm or cancel the import</b>.\n          </p>\n        </div>\n        <div className='form-group'>\n          <FileInput\n            placeholder='select export file to import...'\n            selectedFile={this.state.selectedFile}\n            onFileSelect={(file) => this.setState({ selectedFile: file })}\n            disabled={this.state.processing === true || this.state.validated}\n          />\n        </div>\n        <div className='form-group'>\n          <fieldset style={{ padding: '0px', margin: '0px', borderWidth: '1px' }}>\n            <legend style={{ marginLeft: '0.2rem' }}>Options</legend>\n            <div className='form-group'>\n              <div style={{ opacity: (this.state.processing === true || this.state.validated) ? 0.7 : 1 }}>\n                <label>\n                  <input\n                    type='radio'\n                    name='import-mode'\n                    value='merge'\n                    style={{ verticalAlign: 'middle', margin: '0px' }}\n                    checked={!this.state.fullImport}\n                    onChange={this.handleImportModeChange}\n                  />\n                  <span style={{ display: 'inline-block', verticalAlign: 'middle', paddingLeft: '0.2rem', paddingRight: '0.5rem' }}>Merge</span>\n                </label>\n                <label>\n                  <input\n                    type='radio'\n                    name='import-mode'\n                    value='full'\n                    style={{ verticalAlign: 'middle', margin: '0px' }}\n                    checked={this.state.fullImport}\n                    onChange={this.handleImportModeChange}\n                  />\n                  <span style={{ display: 'inline-block', verticalAlign: 'middle', paddingLeft: '0.2rem', paddingRight: '0.5rem' }}>Full</span>\n                </label>\n              </div>\n            </div>\n            <div className='form-group'>\n              <div\n                style={{\n                  display: !this.state.fullImport ? 'block' : 'none',\n                  border: '1px dashed black',\n                  padding: '0.6rem',\n                  opacity: (this.state.processing === true || this.state.validated) ? 0.7 : 1\n                }}\n              >\n                <label style={{ display: 'inline-block', marginBottom: '5px' }}>\n                  <b>Optionally</b> you can select a folder in which the entities  will be inserted\n                </label>\n                <div style={{ maxHeight: '20rem', overflow: 'auto' }}>\n                  <EntityRefSelect\n                    noModal\n                    treeStyle={{ minHeight: 'auto', maxHeight: 'none' }}\n                    headingLabel='Select folder'\n                    newLabel='New folder for import'\n                    filter={(references) => ({ folders: references.folders })}\n                    selectableFilter={(isGroup, entity) => entity.__entitySet === 'folders'}\n                    value={this.state.selectedFolderShortid}\n                    disabled={this.state.processing === true || this.state.validated}\n                    onChange={(selected) => {\n                      this.setState({\n                        selectedFolderShortid: selected.length > 0 ? selected[0].shortid : null\n                      })\n                    }}\n                    renderNew={(modalProps) => <sharedComponents.NewFolderModal {...modalProps} options={{ ...modalProps.options, entitySet: 'folders' }} />}\n                  />\n                </div>\n              </div>\n              {this.state.fullImport && (\n                <p style={{ marginTop: '10px' }}>\n                  A <b>full import</b> means that <b>all the entities that are not present in the export file will be deleted</b>, after the import <b>you will have only the entities that were present in the export file</b>.\n                </p>\n              )}\n            </div>\n          </fieldset>\n        </div>\n        <div className='form-group'>\n          {!this.state.validated && (\n            <div className='button-bar'>\n              <button\n                className={`button confirmation ${this.state.processing ? 'disabled' : ''}`}\n                style={{ opacity: this.state.selectedFile == null ? 0.7 : 1 }}\n                disabled={this.state.selectedFile == null}\n                onClick={() => this.validate(this.state.selectedFile)}\n              >\n                <i className='fa fa-circle-o-notch fa-spin' style={{ display: this.state.processing ? 'inline-block' : 'none' }} />\n                <span style={{ display: this.state.processing ? 'none' : 'inline' }}>Validate</span>\n              </button>\n            </div>\n          )}\n          <br />\n          {this.state.validated && (\n            <div>\n              <div>\n                <i>Log of changes with the import:</i>\n              </div>\n              <textarea style={{ width: '100%', boxSizing: 'border-box' }} rows='10' readOnly value={this.state.log} />\n            </div>\n          )}\n          {this.state.validated && (\n            <div className='button-bar'>\n              <button className={`button danger ${this.state.processing ? 'disabled' : ''}`} onClick={() => this.cancel()}>\n                Cancel\n              </button>\n              {(this.state.status === '0' || this.state.retryWithContinueOnFail) && (\n                <button className={`button confirmation ${this.state.processing ? 'disabled' : ''}`} onClick={() => this.import()}>\n                  <i className='fa fa-circle-o-notch fa-spin' style={{ display: this.state.processing ? 'inline-block' : 'none' }} />\n                  <span style={{ display: this.state.processing ? 'none' : 'inline' }}>{this.state.retryWithContinueOnFail ? 'Ignore errors and continue' : 'Import'}</span>\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ImportModal\n","module.exports = Studio.runtime['helpers/extends'];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import ExportModal from './ExportModal.js'\nimport ImportModal from './ImportModal.js'\nimport Studio from 'jsreport-studio'\n\nStudio.addToolbarComponent((props) => (\n  <div\n    className='toolbar-button'\n    onClick={() => {\n      Studio.openModal(ExportModal)\n      props.closeMenu()\n    }}\n  >\n    <i className='fa fa-download' />Export\n  </div>\n), 'settings')\n\nStudio.addToolbarComponent((props) => (\n  <div\n    className='toolbar-button'\n    onClick={() => {\n      Studio.openModal(ImportModal)\n      props.closeMenu()\n    }}\n  >\n    <i className='fa fa-upload' />Import\n  </div>\n), 'settings')\n\nStudio.addEntityTreeContextMenuItemsResolver(({\n  node,\n  entity,\n  editSelection,\n  isRoot,\n  isGroupEntity,\n  getAllEntitiesInHierarchy\n}) => {\n  if (editSelection != null) {\n    return\n  }\n\n  const items = []\n\n  if (isRoot) {\n    items.push({\n      key: 'Import',\n      title: 'Import',\n      icon: 'fa-upload',\n      onClick: () => {\n        Studio.openModal(ImportModal)\n      }\n    })\n\n    items.push({\n      key: 'Export',\n      title: 'Export',\n      icon: 'fa-download',\n      onClick: () => {\n        Studio.openModal(ExportModal)\n      }\n    })\n  } else if (isGroupEntity && entity.__entitySet === 'folders') {\n    items.push({\n      key: 'Import',\n      title: 'Import into folder',\n      icon: 'fa-upload',\n      onClick: () => {\n        Studio.openModal(ImportModal, { selectedFolderShortid: entity.shortid })\n      }\n    })\n\n    items.push({\n      key: 'Export',\n      title: 'Export folder',\n      icon: 'fa-download',\n      onClick: () => {\n        const selected = getAllEntitiesInHierarchy(node, true)\n        Studio.openModal(ExportModal, { initialSelected: selected })\n      }\n    })\n  }\n\n  return {\n    grouped: true,\n    items\n  }\n})\n\nStudio.entityTreeDropResolvers.push({\n  type: Studio.dragAndDropNativeTypes.FILE,\n  async handler ({\n    draggedItem,\n    dragOverContext,\n    dropComplete\n  }) {\n    const files = draggedItem.files\n\n    const targetInfo = {\n      shortid: null\n    }\n\n    if (dragOverContext && dragOverContext.containerTargetEntity) {\n      targetInfo.shortid = dragOverContext.containerTargetEntity.shortid\n    }\n\n    if (\n      files &&\n      files.length === 1 &&\n      (\n        /\\.zip$/.test(files[0].name) ||\n        /\\.jsrexport$/.test(files[0].name)\n      )\n    ) {\n      dropComplete()\n\n      const opts = {\n        selectedFile: files[0]\n      }\n\n      if (targetInfo.shortid) {\n        opts.selectedFolderShortid = targetInfo.shortid\n      }\n\n      Studio.openModal(ImportModal, opts)\n    }\n  }\n})\n"],"names":["React","Component","Studio","EntityTree","fileSaver","ExportModal","constructor","props","options","selections","references","getExportableReferences","getReferences","Object","keys","forEach","k","e","initialSelected","selected","Array","isArray","s","_id","state","processing","handleSelectionChange","bind","exportableEntitySets","extensions","reduce","acu","entitySetName","indexOf","download","setState","response","api","post","data","selection","filter","responseType","saveAs","alert","message","stack","render","createElement","className","style","height","overflow","entities","selectable","onSelectionChanged","onClick","display","EntityRefSelect","FileInput","sharedComponents","ImportFinishedModal","componentDidMount","setTimeout","confirmBtn","focus","componentWillUnmount","reset","catch","confirm","close","console","error","log","width","boxSizing","rows","readOnly","value","ref","el","ImportModal","selectedFolderShortid","fullImport","retryWithContinueOnFail","validated","selectedFile","handleImportModeChange","ev","target","validate","file","status","params","targetFolder","result","attach","filename","import","continueOnFail","openModal","stateToUpdate","canContinueAfterFail","cancel","placeholder","onFileSelect","disabled","padding","margin","borderWidth","marginLeft","opacity","type","name","verticalAlign","checked","onChange","paddingLeft","paddingRight","border","marginBottom","maxHeight","noModal","treeStyle","minHeight","headingLabel","newLabel","folders","selectableFilter","isGroup","entity","__entitySet","length","shortid","renderNew","modalProps","NewFolderModal","_extends","entitySet","marginTop","addToolbarComponent","closeMenu","addEntityTreeContextMenuItemsResolver","_ref","node","editSelection","isRoot","isGroupEntity","getAllEntitiesInHierarchy","items","push","key","title","icon","grouped","entityTreeDropResolvers","dragAndDropNativeTypes","FILE","handler","_ref2","draggedItem","dragOverContext","dropComplete","files","targetInfo","containerTargetEntity","test","opts"],"sourceRoot":""}